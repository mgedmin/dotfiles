# http://jonas.nitro.dk/tig/tigrc.5.html

# I don't like vertical splits
set vertical-split = false

# show git commit hash by default, which I want because then I can *search* for a git commit by id
set main-view-id = true


# https://github.com/jonas/tig/wiki/Bindings

# Scroll with arrow keys (or mouse wheel in gnome-terminal)
bind diff <Up> move-up
bind diff <Down> move-down

# Reload ~/.tigrc when 'S' is pressed
bind generic S :source ~/.tigrc

# Interactive rebase
bind main B !git rebase -i %(commit)

# Add verbose flag to git-commit
bind generic C !git commit -v

# Tag the selected commit
bind main T !@git tag "%(prompt New tag name: )" %(commit)
bind diff T !@git tag "%(prompt New tag name: )" %(commit)

# Open the commit on Github
bind generic B @sh -c "xdg-open 'https://'$(git remote -v | grep -Eo 'github.com[:/][^.]+' | head -1 | tr : /)'/commit/%(commit)'"
