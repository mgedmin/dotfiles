[user]
	name = Marius Gedminas
	email = marius@gedmin.as
	signingkey = E7A6D78F
[color]
	ui = auto
	diff = auto
	status = auto
[push]
	default = current
[core]
	excludesfile = ~/.gitignore_global
[instaweb]
	httpd = apache2 -f
[web]
	browser = chromium

[bz]
# git-bz plugin
# http://git.fishsoup.net/man/git-bz.html
	browser = chromium

[github]
# https://github.com/blog/180-local-github-config
# I'm not sure anything uses this any more, now that basic token auth is gone
	user = mgedmin

[tig "bind"]
	status = C !git commit -v

[url "git://git.gnome.org/"]
	insteadof = gnome:
[url "git@github.com:mgedmin/"]
	insteadof = github:
[url "git@github.com:"]
	insteadof = github-rw:
[url "git://github.com/"]
	insteadof = github-ro:
[url "bzr::lp:"]
# http://felipec.wordpress.com/2012/11/13/git-remote-hg-bzr-2/
	insteadof = lp:

[alias]
# I'm used to this
	st = status
	ci = commit
# I like hg incoming/hg outgoing; they make perfect sense to me
# NB: starting with git 1.7.0 I can use @{u} to refer to origin
# see also http://stackoverflow.com/questions/231211/using-git-how-do-i-find-modified-files-between-local-and-remote/6389348#6389348
	outgoing = log --oneline origin..
	incoming = !git fetch && git log --oneline ..origin
# From https://git.wiki.kernel.org/index.php/Aliases
# (I had to fix alias by adding "" so the # wouldn't truncate the command)
# also, git new doesn't appear to accept any command-line arguments??
	new = !sh -c 'git log $1@{1}..$1@{0} "$@"'
	alias = "!sh -c '[ $# = 2 ] && git config --global alias.\"$1\" \"$2\" && exit 0 || echo \"usage: git alias <new alias> <original command>\" >&2 && exit 1' -"
	aliases = !git config --get-regexp 'alias.*' | colrm 1 6 | sed 's/[ ]/ = /'
# cd'ing to the right directory is sometimes a pain
	ladd = "!f() { for file; do (cd $(dirname $file) && git add $(basename $file)); done; }; f"
	lcommit = "!f() { dir=$1; shift; cd $dir && git commit \"$@\"; }; f"
	ldiff = "!f() { file=$1; cd $(dirname $file) && git diff \"$@\"; }; f"
# creating new projects on fridge
	push-to-fridge = "!f() { repo=${1:-git/$(basename $(pwd)).git} && ssh fridge git init --bare $repo && git remote add origin fridge:$repo && git push -u origin master; }; f"
